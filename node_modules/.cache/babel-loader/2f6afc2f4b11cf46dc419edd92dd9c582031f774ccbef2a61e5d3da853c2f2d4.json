{"ast":null,"code":"import React,{useState,useEffect,useCallback}from\"react\";import{Link}from\"react-router-dom\";import\"./recommendedSection.css\";import{useTranslation}from\"react-i18next\";import{fetchData}from\"../../Api/dataApi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecommendedProducts=()=>{const{t}=useTranslation();const[displayedCategories,setDisplayedCategories]=useState([]);// دالة لجلب البيانات\nconst fetchRecommendedProducts=useCallback(async()=>{try{const categories=await fetchData();// جلب البيانات باستخدام fetchData\nsetDisplayedCategories(getRandomCategories(categories,3));// عرض 3 فقط\n}catch(error){console.error(\"Error fetching categories:\",error);}},[]);const getRandomCategories=(data,count)=>{const shuffled=[...data].sort(()=>Math.random()-0.5);// ترتيب عشوائي\nreturn shuffled.slice(0,count);// أخذ أول 3 فئات\n};useEffect(()=>{fetchRecommendedProducts();},[fetchRecommendedProducts]);return/*#__PURE__*/_jsxs(\"div\",{className:\"recommended-products\",children:[/*#__PURE__*/_jsx(\"h2\",{children:t(\"recommended_products\")}),/*#__PURE__*/_jsx(\"div\",{className:\"section-header\",children:/*#__PURE__*/_jsxs(Link,{to:\"/recommendedProducts\",className:\"see-more\",children:[t(\"see_more\"),\" \",\">\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:displayedCategories.length>0?displayedCategories.map(category=>/*#__PURE__*/_jsx(\"div\",{className:\"product-card\",children:/*#__PURE__*/_jsxs(Link,{to:\"/product/\".concat(category._id||category.id),children:[/*#__PURE__*/_jsx(\"img\",{src:Array.isArray(category.images)&&category.images.length>0?category.images[0]// الصورة الأولى من المصفوفة\n:\"default-image-url.jpg\"// صورة افتراضية\n,alt:category.title||t(\"no_name\"),className:\"product-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:category.title||t(\"no_name\")}),/*#__PURE__*/_jsx(\"p\",{children:category.description||t(\"no_description\")}),/*#__PURE__*/_jsxs(\"p\",{children:[t(\"price\"),\": \",category.price||t(\"no_price\")]})]})]})},category._id||category.id)):/*#__PURE__*/_jsx(\"p\",{children:t(\"loading_categories\")})})]});};export default RecommendedProducts;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","useTranslation","fetchData","jsx","_jsx","jsxs","_jsxs","RecommendedProducts","t","displayedCategories","setDisplayedCategories","fetchRecommendedProducts","categories","getRandomCategories","error","console","data","count","shuffled","sort","Math","random","slice","className","children","to","length","map","category","concat","_id","id","src","Array","isArray","images","alt","title","description","price"],"sources":["C:/Users/sarah/OneDrive/Documents/Work project/my-app/my-app/src/components/Home/RecommendedSection/recommendedSection.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./recommendedSection.css\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { fetchData } from \"../../Api/dataApi\";\r\n\r\nconst RecommendedProducts = () => {\r\n  const { t } = useTranslation();\r\n  const [displayedCategories, setDisplayedCategories] = useState([]);\r\n\r\n  // دالة لجلب البيانات\r\n  const fetchRecommendedProducts = useCallback(async () => {\r\n    try {\r\n      const categories = await fetchData(); // جلب البيانات باستخدام fetchData\r\n      setDisplayedCategories(getRandomCategories(categories, 3)); // عرض 3 فقط\r\n    } catch (error) {\r\n      console.error(\"Error fetching categories:\", error);\r\n    }\r\n  }, []);\r\n\r\n  const getRandomCategories = (data, count) => {\r\n    const shuffled = [...data].sort(() => Math.random() - 0.5); // ترتيب عشوائي\r\n    return shuffled.slice(0, count); // أخذ أول 3 فئات\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchRecommendedProducts();\r\n  }, [fetchRecommendedProducts]);\r\n\r\n  return (\r\n    <div className=\"recommended-products\">\r\n      <h2>{t(\"recommended_products\")}</h2>\r\n      <div className=\"section-header\">\r\n        <Link to=\"/recommendedProducts\" className=\"see-more\">\r\n          {t(\"see_more\")} {\">\"}\r\n        </Link>\r\n      </div>\r\n      <div className=\"product-grid\">\r\n        {displayedCategories.length > 0 ? (\r\n          displayedCategories.map((category) => (\r\n            <div\r\n              className=\"product-card\"\r\n              key={category._id || category.id} // تأكد من الحقل الصحيح\r\n            >\r\n              <Link to={`/product/${category._id || category.id}`}>\r\n                <img\r\n                  src={\r\n                    Array.isArray(category.images) && category.images.length > 0\r\n                      ? category.images[0] // الصورة الأولى من المصفوفة\r\n                      : \"default-image-url.jpg\" // صورة افتراضية\r\n                  }\r\n                  alt={category.title || t(\"no_name\")}\r\n                  className=\"product-image\"\r\n                />\r\n                <div className=\"product-details\">\r\n                  <h3>{category.title || t(\"no_name\")}</h3>\r\n                  <p>{category.description || t(\"no_description\")}</p>\r\n                  <p>\r\n                    {t(\"price\")}: {category.price || t(\"no_price\")}\r\n                  </p>\r\n                </div>\r\n              </Link>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>{t(\"loading_categories\")}</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RecommendedProducts;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,0BAA0B,CACjC,OAASC,cAAc,KAAQ,eAAe,CAC9C,OAASC,SAAS,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAAEC,CAAE,CAAC,CAAGP,cAAc,CAAC,CAAC,CAC9B,KAAM,CAACQ,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAElE;AACA,KAAM,CAAAc,wBAAwB,CAAGZ,WAAW,CAAC,SAAY,CACvD,GAAI,CACF,KAAM,CAAAa,UAAU,CAAG,KAAM,CAAAV,SAAS,CAAC,CAAC,CAAE;AACtCQ,sBAAsB,CAACG,mBAAmB,CAACD,UAAU,CAAE,CAAC,CAAC,CAAC,CAAE;AAC9D,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAD,mBAAmB,CAAGA,CAACG,IAAI,CAAEC,KAAK,GAAK,CAC3C,KAAM,CAAAC,QAAQ,CAAG,CAAC,GAAGF,IAAI,CAAC,CAACG,IAAI,CAAC,IAAMC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,GAAG,CAAC,CAAE;AAC5D,MAAO,CAAAH,QAAQ,CAACI,KAAK,CAAC,CAAC,CAAEL,KAAK,CAAC,CAAE;AACnC,CAAC,CAEDnB,SAAS,CAAC,IAAM,CACda,wBAAwB,CAAC,CAAC,CAC5B,CAAC,CAAE,CAACA,wBAAwB,CAAC,CAAC,CAE9B,mBACEL,KAAA,QAAKiB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCpB,IAAA,OAAAoB,QAAA,CAAKhB,CAAC,CAAC,sBAAsB,CAAC,CAAK,CAAC,cACpCJ,IAAA,QAAKmB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BlB,KAAA,CAACN,IAAI,EAACyB,EAAE,CAAC,sBAAsB,CAACF,SAAS,CAAC,UAAU,CAAAC,QAAA,EACjDhB,CAAC,CAAC,UAAU,CAAC,CAAC,GAAC,CAAC,GAAG,EAChB,CAAC,CACJ,CAAC,cACNJ,IAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1Bf,mBAAmB,CAACiB,MAAM,CAAG,CAAC,CAC7BjB,mBAAmB,CAACkB,GAAG,CAAEC,QAAQ,eAC/BxB,IAAA,QACEmB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAGxBlB,KAAA,CAACN,IAAI,EAACyB,EAAE,aAAAI,MAAA,CAAcD,QAAQ,CAACE,GAAG,EAAIF,QAAQ,CAACG,EAAE,CAAG,CAAAP,QAAA,eAClDpB,IAAA,QACE4B,GAAG,CACDC,KAAK,CAACC,OAAO,CAACN,QAAQ,CAACO,MAAM,CAAC,EAAIP,QAAQ,CAACO,MAAM,CAACT,MAAM,CAAG,CAAC,CACxDE,QAAQ,CAACO,MAAM,CAAC,CAAC,CAAE;AAAA,CACnB,uBAAwB;AAC7B,CACDC,GAAG,CAAER,QAAQ,CAACS,KAAK,EAAI7B,CAAC,CAAC,SAAS,CAAE,CACpCe,SAAS,CAAC,eAAe,CAC1B,CAAC,cACFjB,KAAA,QAAKiB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BpB,IAAA,OAAAoB,QAAA,CAAKI,QAAQ,CAACS,KAAK,EAAI7B,CAAC,CAAC,SAAS,CAAC,CAAK,CAAC,cACzCJ,IAAA,MAAAoB,QAAA,CAAII,QAAQ,CAACU,WAAW,EAAI9B,CAAC,CAAC,gBAAgB,CAAC,CAAI,CAAC,cACpDF,KAAA,MAAAkB,QAAA,EACGhB,CAAC,CAAC,OAAO,CAAC,CAAC,IAAE,CAACoB,QAAQ,CAACW,KAAK,EAAI/B,CAAC,CAAC,UAAU,CAAC,EAC7C,CAAC,EACD,CAAC,EACF,CAAC,EAnBFoB,QAAQ,CAACE,GAAG,EAAIF,QAAQ,CAACG,EAoB3B,CACN,CAAC,cAEF3B,IAAA,MAAAoB,QAAA,CAAIhB,CAAC,CAAC,oBAAoB,CAAC,CAAI,CAChC,CACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAD,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}