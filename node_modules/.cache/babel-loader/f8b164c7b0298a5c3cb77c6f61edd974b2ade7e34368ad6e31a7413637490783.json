{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{useTranslation}from\"react-i18next\";import{API_URL}from\"../Api/dataApi\";import\"./ProductDetails.css\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductDetails=()=>{const{id}=useParams();const{t}=useTranslation();const[product,setProduct]=useState(null);const[currentIndex,setCurrentIndex]=useState(0);useEffect(()=>{const fetchProductDetails=async()=>{try{const response=await fetch(\"\".concat(API_URL,\"/\").concat(id));// استخدام API_URL\nconst data=await response.json();setProduct(data);}catch(error){console.error(t(\"error_fetching_product\"),error);}};fetchProductDetails();},[id,t]);if(!product){return/*#__PURE__*/_jsx(\"div\",{children:t(\"loading\")});}const images=product.images||[t(\"default_image\")];const nextImage=()=>{setCurrentIndex(prevIndex=>prevIndex===images.length-1?0:prevIndex+1);};const prevImage=()=>{setCurrentIndex(prevIndex=>prevIndex===0?images.length-1:prevIndex-1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image-carousel\",children:[images.length>1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:prevImage,className:\"carousel-arrow left-arrow\",children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"button\",{onClick:nextImage,className:\"carousel-arrow right-arrow\",children:\"\\u2192\"})]}),/*#__PURE__*/_jsx(\"img\",{src:images[currentIndex],alt:product.title||t(\"no_title\"),className:\"product-image\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-name\",children:product.title||t(\"no_title\")}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.description||t(\"no_description\")}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[t(\"price\"),\": \",product.price||t(\"no_price\")]}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-location\",children:[t(\"location\"),\": \",product.location||t(\"no_location\")]})]})]});};export default ProductDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","useTranslation","API_URL","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProductDetails","id","t","product","setProduct","currentIndex","setCurrentIndex","fetchProductDetails","response","fetch","concat","data","json","error","console","children","images","nextImage","prevIndex","length","prevImage","className","onClick","src","alt","title","description","price","location"],"sources":["C:/Users/sarah/OneDrive/Documents/Work project/my-app/my-app/src/components/ProductModalManager/ProductDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { API_URL } from \"../Api/dataApi\"; \r\nimport \"./ProductDetails.css\";\r\n\r\nconst ProductDetails = () => {\r\n  const { id } = useParams();\r\n  const { t } = useTranslation();\r\n  const [product, setProduct] = useState(null);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const fetchProductDetails = async () => {\r\n      try {\r\n        const response = await fetch(`${API_URL}/${id}`); // استخدام API_URL\r\n        const data = await response.json();\r\n        setProduct(data);\r\n      } catch (error) {\r\n        console.error(t(\"error_fetching_product\"), error);\r\n      }\r\n    };\r\n\r\n    fetchProductDetails();\r\n  }, [id, t]);\r\n\r\n  if (!product) {\r\n    return <div>{t(\"loading\")}</div>;\r\n  }\r\n\r\n  const images = product.images || [t(\"default_image\")];\r\n\r\n  const nextImage = () => {\r\n    setCurrentIndex((prevIndex) =>\r\n      prevIndex === images.length - 1 ? 0 : prevIndex + 1\r\n    );\r\n  };\r\n\r\n  const prevImage = () => {\r\n    setCurrentIndex((prevIndex) =>\r\n      prevIndex === 0 ? images.length - 1 : prevIndex - 1\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"product-container\">\r\n      <div className=\"image-carousel\">\r\n        {images.length > 1 && (\r\n          <>\r\n            <button onClick={prevImage} className=\"carousel-arrow left-arrow\">\r\n              &#8592;\r\n            </button>\r\n            <button onClick={nextImage} className=\"carousel-arrow right-arrow\">\r\n              &#8594;\r\n            </button>\r\n          </>\r\n        )}\r\n        <img\r\n          src={images[currentIndex]}\r\n          alt={product.title || t(\"no_title\")}\r\n          className=\"product-image\"\r\n        />\r\n      </div>\r\n      <div className=\"product-details\">\r\n  <h3 className=\"product-name\">{product.title || t(\"no_title\")}</h3>\r\n  <p className=\"product-description\">\r\n    {product.description || t(\"no_description\")}\r\n  </p>\r\n  <p className=\"product-price\">\r\n    {t(\"price\")}: {product.price || t(\"no_price\")}\r\n  </p>\r\n  <p className=\"product-location\">\r\n    {t(\"location\")}: {product.location || t(\"no_location\")}\r\n  </p>\r\n</div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}