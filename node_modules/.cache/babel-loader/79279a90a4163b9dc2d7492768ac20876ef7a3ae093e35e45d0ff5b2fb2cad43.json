{"ast":null,"code":"import React,{useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{logout}from\"../../features/authSlice\";import{Link,useNavigate}from\"react-router-dom\";import{fetchData}from\"../Api/dataApi\";import\"./navbar.css\";import englishFlag from\"../assets/english-flag.png\";import arabicFlag from\"../assets/arabic-flag.png\";import profilePic from\"../assets/profile.png\";import{useTranslation}from'react-i18next';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const[,setLanguage]=useState(\"EN\");const[searchQuery,setSearchQuery]=useState(\"\");const[searchResults,setSearchResults]=useState([]);const{isLoggedIn,user}=useSelector(state=>state.auth);const dispatch=useDispatch();const navigate=useNavigate();const{i18n,t}=useTranslation();const handleLanguageChange=lang=>{setLanguage(lang);i18n.changeLanguage(lang.toLowerCase());console.log(\"Current language:\",i18n.language);document.documentElement.dir=lang===\"ar\"?\"rtl\":\"ltr\";};const handleLogout=()=>{dispatch(logout());localStorage.removeItem(\"user\");navigate(\"/login\");};const handleSearch=async()=>{if(searchQuery.trim()){try{const results=await fetchData(searchQuery);setSearchResults(results);}catch(error){console.error(\"Error during search:\",error);}}};const handleKeyDown=e=>{if(e.key===\"Enter\"){handleSearch();}};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-logo\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/logo.png\",alt:\"Logo\"})})}),isLoggedIn&&/*#__PURE__*/_jsx(\"div\",{className:\"search-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search-input\",placeholder:t(\"search_placeholder\"),value:searchQuery,onChange:e=>setSearchQuery(e.target.value),onKeyDown:handleKeyDown})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-right\",children:[isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn logout-btn\",children:t(\"logout\")}),/*#__PURE__*/_jsx(\"img\",{src:(user===null||user===void 0?void 0:user.profilePicture)||profilePic,alt:\"Profile\",className:\"profile-pic\"})]}),searchResults.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"search-results\",children:searchResults.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"search-result-item\",children:[/*#__PURE__*/_jsx(\"h4\",{children:item.name}),/*#__PURE__*/_jsx(\"p\",{children:item.description})]},item.id))})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn login-btn\",children:t(\"login\")}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"btn signup-btn\",children:t(\"signup\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"language-dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn language-btn\",children:i18n.language===\"en\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:englishFlag,alt:\"English\",className:\"flag-icon\"}),\" \",t(\"english\")]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:arabicFlag,alt:\"Arabic\",className:\"flag-icon\"}),\" \",t(\"arabic\")]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsxs(\"span\",{onClick:()=>handleLanguageChange(\"EN\"),children:[/*#__PURE__*/_jsx(\"img\",{src:englishFlag,alt:\"English\",className:\"flag-icon\"}),\" \",t(\"english\")]}),/*#__PURE__*/_jsxs(\"span\",{onClick:()=>handleLanguageChange(\"AR\"),children:[/*#__PURE__*/_jsx(\"img\",{src:arabicFlag,alt:\"Arabic\",className:\"flag-icon\"}),\" \",t(\"arabic\")]})]})]})]})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useSelector","useDispatch","logout","Link","useNavigate","fetchData","englishFlag","arabicFlag","profilePic","useTranslation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","setLanguage","searchQuery","setSearchQuery","searchResults","setSearchResults","isLoggedIn","user","state","auth","dispatch","navigate","i18n","t","handleLanguageChange","lang","changeLanguage","toLowerCase","console","log","language","document","documentElement","dir","handleLogout","localStorage","removeItem","handleSearch","trim","results","error","handleKeyDown","e","key","className","children","to","src","alt","type","placeholder","value","onChange","target","onKeyDown","onClick","profilePicture","length","map","item","name","description","id"],"sources":["C:/Users/sarah/OneDrive/Documents/Work project/my-app/my-app/src/components/Navbar/navbar.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { logout } from \"../../features/authSlice\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { fetchData } from \"../Api/dataApi\";\r\nimport \"./navbar.css\";\r\nimport englishFlag from \"../assets/english-flag.png\";\r\nimport arabicFlag from \"../assets/arabic-flag.png\";\r\nimport profilePic from \"../assets/profile.png\";\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst Navbar = () => {\r\n  const [, setLanguage] = useState(\"EN\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const { isLoggedIn, user } = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { i18n, t } = useTranslation();\r\n\r\n  const handleLanguageChange = (lang) => {\r\n    setLanguage(lang);\r\n    i18n.changeLanguage(lang.toLowerCase());\r\n    console.log(\"Current language:\", i18n.language);\r\n    document.documentElement.dir = lang === \"ar\" ? \"rtl\" : \"ltr\";\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    dispatch(logout());\r\n    localStorage.removeItem(\"user\");\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  const handleSearch = async () => {\r\n    if (searchQuery.trim()) {\r\n      try {\r\n        const results = await fetchData(searchQuery);\r\n        setSearchResults(results);\r\n      } catch (error) {\r\n        console.error(\"Error during search:\", error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      handleSearch();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <div className=\"navbar-left\">\r\n        <div className=\"navbar-logo\">\r\n          <Link to=\"/\">\r\n            <img src=\"/logo.png\" alt=\"Logo\" />\r\n          </Link>\r\n        </div>\r\n        \r\n        {isLoggedIn && (\r\n          <div className=\"search-container\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"search-input\"\r\n              placeholder={t(\"search_placeholder\")} \r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              onKeyDown={handleKeyDown}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"navbar-right\">\r\n        {isLoggedIn ? (\r\n          <>\r\n            <div className=\"profile-container\">\r\n              <button onClick={handleLogout} className=\"btn logout-btn\">\r\n                {t(\"logout\")} \r\n              </button>\r\n              <img\r\n                src={user?.profilePicture || profilePic}\r\n                alt=\"Profile\"\r\n                className=\"profile-pic\"\r\n              />\r\n            </div>\r\n            {/* عرض نتائج البحث */}\r\n            {searchResults.length > 0 && (\r\n              <div className=\"search-results\">\r\n                {searchResults.map((item) => (\r\n                  <div key={item.id} className=\"search-result-item\">\r\n                    <h4>{item.name}</h4>\r\n                    <p>{item.description}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Link to=\"/login\" className=\"btn login-btn\">{t(\"login\")}</Link> \r\n            <Link to=\"/signup\" className=\"btn signup-btn\">{t(\"signup\")}</Link> \r\n          </>\r\n        )}\r\n        \r\n        <div className=\"language-dropdown\">\r\n          <button className=\"btn language-btn\">\r\n            {i18n.language === \"en\" ? (\r\n              <>\r\n                <img src={englishFlag} alt=\"English\" className=\"flag-icon\" /> {t(\"english\")}\r\n              </>\r\n            ) : (\r\n              <>\r\n                <img src={arabicFlag} alt=\"Arabic\" className=\"flag-icon\" /> {t(\"arabic\")}\r\n              </>\r\n            )}\r\n          </button>\r\n          <div className=\"dropdown-menu\">\r\n            <span onClick={() => handleLanguageChange(\"EN\")}>\r\n              <img src={englishFlag} alt=\"English\" className=\"flag-icon\" /> {t(\"english\")}\r\n            </span>\r\n            <span onClick={() => handleLanguageChange(\"AR\")}>\r\n              <img src={arabicFlag} alt=\"Arabic\" className=\"flag-icon\" /> {t(\"arabic\")}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}